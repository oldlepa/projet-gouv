(this["webpackJsonpprojet-gouv"]=this["webpackJsonpprojet-gouv"]||[]).push([[0],{254:function(e,t,r){},255:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),a=(r(129),r(39)),c=r.n(a),i=r(126),o=r(6),l=r(7),j=r(8),d=r(9),h=r(11),u=r(49),b=r(48),m=r(46),p=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(u.a,{bg:"dark",expand:"lg",variant:"dark",children:[Object(n.jsx)(m.LinkContainer,{to:"/",children:Object(n.jsx)(u.a.Brand,{children:"Projet-Gouv"})}),Object(n.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(b.a,{className:"mr-auto",children:[Object(n.jsx)(m.LinkContainer,{exact:!0,to:"/",children:Object(n.jsx)(b.a.Link,{children:"Accueil"})}),Object(n.jsx)(m.LinkContainer,{exact:!0,to:"/localisation",children:Object(n.jsx)(b.a.Link,{children:"Localisation"})}),Object(n.jsx)(m.LinkContainer,{exact:!0,to:"/contact",children:Object(n.jsx)(b.a.Link,{children:"Contact"})})]})})]})})},O=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("h1",{className:"border border-dark p-2 m-2 text-white text-center bg-primary rounded ",children:e.children})})},x=r(116),g=r.p+"static/media/chateau.a10ab3f8.jpg",f=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{children:"Bienvenu sur Gouv"}),Object(n.jsx)("p",{children:"Le site vous aidant \xe0 trouver les \xe9tablissement publics de la France"}),Object(n.jsx)(x.a,{src:g,fluid:!0,thumbnail:!0,style:{width:"100%"}})]})}}]),r}(s.Component),v=r(21),C=r(16),y=r(82),k=r(125),L=r(47),N=r(64),E=r.n(N),S={BASE_URL:"https://etablissements-publics.api.gouv.fr",BASE_ENDPOINT:"/v3/departements/",URL_FIREBASE:"https://contact-projet-gouv-default-rtdb.firebaseio.com/Contact.json"},F=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={nom:"",email:"",message:""},e.handleVisible=function(){e.props.setStatus({success:!0}),setTimeout((function(){e.props.setStatus({success:!1}),e.props.formulaireContact()}),3e3)},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(C.a,{children:[Object(n.jsxs)(C.a.Group,{controlId:"nom",children:[Object(n.jsx)(C.a.Label,{children:"Nom :"})," ",Object(n.jsx)("span",{children:Object(n.jsx)(y.a,{variant:"warning",children:"(min 5 caract\xe8res)"})}),Object(n.jsx)(C.a.Control,{type:"text",placeholder:"Votre nom",onChange:this.props.handleChange,onBlur:this.props.handleBlur,value:this.props.values.nom,name:"nom"}),this.props.touched.nom&&this.props.errors.nom&&Object(n.jsx)("span",{className:"text-danger",children:this.props.errors.nom})]}),Object(n.jsxs)(C.a.Group,{controlId:"email",children:[Object(n.jsx)(C.a.Label,{children:"Email : "}),Object(n.jsx)(C.a.Control,{type:"text",placeholder:"Email",onChange:this.props.handleChange,onBlur:this.props.handleBlur,value:this.props.values.email,name:"email"}),this.props.touched.email&&this.props.errors.email&&Object(n.jsx)("span",{className:"text-danger",children:this.props.errors.email})]}),Object(n.jsxs)(C.a.Group,{controlId:"message",children:[Object(n.jsx)(C.a.Label,{children:"Votre message: "})," ",Object(n.jsx)("span",{children:Object(n.jsx)(y.a,{variant:"warning",children:"(min entre 100 et 200 caract\xe8res)"})}),Object(n.jsx)(C.a.Control,{as:"textarea",rows:6,onChange:this.props.handleChange,onBlur:this.props.handleBlur,value:this.props.values.message,name:"message"}),this.props.touched.message&&this.props.errors.message&&Object(n.jsx)("span",{className:"text-danger",children:this.props.errors.message})]}),Object(n.jsx)(v.a,{variant:"primary",onClick:function(){return e.props.handleSubmit()},className:"bouton mb-2",children:"Envoyer"})]})})}}]),r}(s.Component),B=Object(k.a)({mapPropsToValues:function(){return{nom:"",email:"",message:""}},validationSchema:L.a().shape({nom:L.b().min(5,"Le nom doit \xeatre de 5 caract\xe8re minimum").required("Le nom est obligatoire"),email:L.b().email("L'email n'est pas au bon format").required("L'email est obligatoire"),message:L.b().min(100,"Le message doit \xeatre de 100 caract\xe8re minimum").max(200,"Le message ne doit pas d\xe9passer 200 caract\xe8res").required("Le message est obligatoire")}),handleSubmit:function(e,t){console.log("on est dans submit",t,e);var r={nom:e.nom,email:e.email,message:e.message};E.a.post(S.URL_FIREBASE,r).then((function(r){t.setStatus({success:!0}),t.props.formulaireContact(),t.props.handleVisible(e.nom,e.email,e.message)})).catch((function(e){t.setStatus({success:!1}),t.setSubmitting(!1),t.setErrors({submit:e.message})}))},displayName:"BasicForm"})(F),w=r(83),M=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(w.a,{variant:"success",className:"m-2",children:[Object(n.jsxs)(w.a.Heading,{children:[Object(n.jsx)("strong",{children:"Votre nom "}),": ",this.props.sendMessage.nom,Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Votre email"})," : ",this.props.sendMessage.email]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"mb-0",children:["Votre message : ",this.props.sendMessage.message]})]})})}}]),r}(s.Component),R=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={formulaireContacte:!1,afterMessage:!1,sendMessage:{nom:"",email:"",message:""}},e.handleFormulaireContact=function(){e.setState({formulaireContacte:!e.state.formulaireContacte})},e.handleVisible=function(t,r,n){var s={nom:t,email:r,message:n};e.setState({afterMessage:!0,sendMessage:s},(function(){console.log("le nom est ",t,r,n)})),setTimeout((function(){e.setState({afterMessage:!1})}),5e3)},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{children:"Vous pouvez nous contacter"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Adresse :"}),Object(n.jsx)("p",{children:"1 Rue de Paris, 75015 Paris"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"T\xe9l\xe9phone :"}),Object(n.jsx)("p",{children:"01 35 43 23 67"})]}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsxs)("h2",{children:["Vous pr\xe9f\xe8rez nous \xe9crire ? "," "]}),Object(n.jsx)(v.a,{variant:"primary",onClick:function(){return e.handleFormulaireContact()},children:"Formulaire de Contact"})]}),Object(n.jsx)("div",{children:this.state.formulaireContacte&&Object(n.jsx)(B,{handleVisible:this.handleVisible,formulaireContact:this.handleFormulaireContact})}),Object(n.jsx)("div",{children:this.state.afterMessage&&Object(n.jsx)(M,{sendMessage:this.state.sendMessage})})]})}}]),r}(s.Component),V=r(34),A=function(e){var t=e.horaires.map((function(e,t){return e.du===e.au?Object(n.jsxs)("li",{children:[e.du,"  - ",e.heures[0].de," \xe0 ",e.heures[0].a]},t):Object(n.jsxs)("li",{children:["Du ",e.du," au ",e.au," - ",e.heures[0].de," \xe0 ",e.heures[0].a]},t)}));return Object(n.jsx)(n.Fragment,{children:t})},P=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(V.a,{border:"primary",className:"card card-body flex-fill",children:[Object(n.jsx)(V.a.Header,{style:{backgroundColor:"#0080FF"},className:"text-center text-white p-3",children:e.nom}),Object(n.jsxs)(V.a.Body,{children:[Object(n.jsxs)(V.a.Title,{variant:"secondary",children:["Telephone : ",e.telephone," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),e.email&&"Mail : ".concat(e.email)," ",Object(n.jsx)("br",{})]}),Object(n.jsxs)(V.a.Text,{children:[Object(n.jsx)("strong",{children:"Adresse : "}),e.adresse[0].lignes[0]," "," ",e.adresse[0].codePostal," - ",e.adresse[0].commune,Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"Horaires : "})," ",Object(n.jsx)("br",{}),e.horaires&&Object(n.jsx)(A,{horaires:e.horaires})]}),e.url&&Object(n.jsx)(V.a.Link,{href:e.url,target:"_blank",children:"Visiter le site web"})]})]})})},I=r(122),T=r(65),_=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={recherches:null,departement:null,type:null},e.handleChoixDepartement=function(t){e.setState({departement:t.target.value},(function(){console.log(e.state.departement)}))},e.handleRechercheEtablissement=function(t){var r=S.BASE_URL+S.BASE_ENDPOINT+e.state.departement+"/"+t;E.a.get(r).then((function(r){console.log(r),e.setState({recherches:r.data.features,type:t},(function(){console.log(e.state.recherches)}))})).catch((function(e){console.log(e)}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{children:"Rechercher un \xe9tablissement"}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{children:Object(n.jsxs)(C.a.Group,{controlId:"selectMultiple",className:"select",children:[Object(n.jsx)(C.a.Label,{className:"formLabel",children:Object(n.jsx)("strong",{children:"Choix du d\xe9partement : "})}),Object(n.jsxs)(C.a.Control,{as:"select",custom:!0,onChange:function(t){return e.setState({departement:t.target.value})},className:"formControl",children:[Object(n.jsx)("option",{children:"Choisir un d\xe9partement"}),Object(n.jsx)("option",{value:"93",children:"D\xe9partement de Seine-Saint-Denis (93)"}),Object(n.jsx)("option",{value:"75",children:"D\xe9partement de Paris (75)"}),Object(n.jsx)("option",{value:"94",children:"Val-de-Marne (94)"}),Object(n.jsx)("option",{value:"92",children:"Haut-de-Seine (92)"}),Object(n.jsx)("option",{value:"77",children:"Seine-Et-Marne (77)"}),Object(n.jsx)("option",{value:"91",children:"Essonne (91)"}),Object(n.jsx)("option",{value:"78",children:"Yvelines (78)"}),Object(n.jsx)("option",{value:"95",children:"Val d'Oise (95)"}),Object(n.jsx)("option",{value:"09",children:"Ari\xe8ge (09)"})]})]})})}),Object(n.jsx)("div",{children:this.state.departement&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"boutonLocalisation",children:[Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("mairie")},children:"Mairie"})," ",Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("commissariat_police")},children:"Commissariat de police"})," ",Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("gendarmerie")},children:"Gendarmerie "})," ",Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("prefecture ")},children:"Pr\xe9fecture"})," ",Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("pole_emploi")},children:"P\xf4le Emploi"})," ",Object(n.jsx)(v.a,{variant:"secondary",onClick:function(){return e.handleRechercheEtablissement("defenseur_droits")},children:"D\xe9fenseur des droits"})," "]}),Object(n.jsx)(I.a,{className:"row",children:this.state.recherches&&0===this.state.recherches.length?Object(n.jsxs)("h1",{children:["Aucune Information de ",this.state.type,"  pour le departement ",this.state.departement]}):this.state.recherches&&this.state.recherches.map((function(e,t){return Object(n.jsx)(T.a,{md:6,className:"col col-sm d-flex",children:Object(n.jsx)(P,{nom:e.properties.nom,adresse:e.properties.adresses,horaires:e.properties.horaires,email:e.properties.email,telephone:e.properties.telephone,id:e.properties.id,url:e.properties.url})},e.properties.id)}))})]})})]})}}]),r}(s.Component),D=r(124),G=r(123),H=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"route404",children:[Object(n.jsx)(G.a,{animation:"border",role:"status",style:{width:"3rem",height:"3rem"},children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(n.jsx)("h1",{children:"Page Not Found"})]})})},U=r(32),q=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("footer",{className:"p-2 text-white text-center bg-dark",children:[Object(n.jsx)("div",{children:"Mention l\xe9gale"}),Object(n.jsx)("div",{children:"@Gouv-OLDLepa"}),Object(n.jsx)("div",{children:Object(n.jsx)(U.Link,{to:"/contact",className:"text-decoration-none text-white text-center",children:"Contact"})})]})})},z=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(p,{}),Object(n.jsx)(D.a,{children:Object(n.jsxs)(h.g,{children:[Object(n.jsx)(h.d,{path:"/",exact:!0,render:function(){return Object(n.jsx)(f,{})}}),Object(n.jsx)(h.d,{path:"/localisation",exact:!0,render:function(){return Object(n.jsx)(_,{})}}),Object(n.jsx)(h.d,{path:"/contact",exact:!0,render:function(e){return Object(n.jsx)(R,Object(i.a)({},e))}}),Object(n.jsx)(h.d,{render:function(){return Object(n.jsx)(H,{})}})]})})]}),Object(n.jsx)("div",{className:"monSite"}),Object(n.jsx)(q,{})]})}}]),r}(s.Component);r(254);var J=function(){return Object(n.jsx)(U.BrowserRouter,{children:Object(n.jsx)(z,{})})};c.a.render(Object(n.jsx)(J,{}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.40d21ef9.chunk.js.map